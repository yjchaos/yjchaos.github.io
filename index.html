<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="小六仔的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="小六仔的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小六仔的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>小六仔的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小六仔的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">梦想什么时候开始都不算晚</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/23/nodejs学习1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/23/nodejs学习1/" itemprop="url">nodejs学习(一)-javascript基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-23T13:31:48+08:00">
                2018-04-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>标识符的要求：</p>
<ul>
<li>大小写敏感</li>
<li>使用下划线、字母、Unicode中的语言字符、美元符号开头，可以包含数字</li>
<li>不能使用保留字和关键字</li>
</ul>
<h2 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h2><p>作用：消除ECMAScript老版本中的不合理、不严谨、不安全之处，提升效率，为ECMAScript的新版本做准备</p>
<p>范围：函数范围的严格模式，整个脚本的严格模式</p>
<p>Node.js中建议全部使用严格模式</p>
<p>严格模式的影响：</p>
<ul>
<li><p>变量的严格声明（必须使用var声明）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//严格模式下的变量声明</span></span><br><span class="line"><span class="keyword">var</span> strTemp=<span class="string">'string temp'</span>;</span><br><span class="line"><span class="comment">//会被定义成全局变量，严格模式下不允许</span></span><br><span class="line">strTemp2=<span class="string">'string temp2'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>禁止动态绑定：不得使用with，eval作用域</p>
</li>
<li>不能删除变量，即不能 delete strUserDesc<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//严格模式下的变量声明</span></span><br><span class="line"><span class="keyword">var</span> strTemp=<span class="string">'string temp'</span>;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(global,<span class="string">'strTemp'</span>);</span><br><span class="line"><span class="keyword">delete</span> strTemp;</span><br><span class="line"><span class="comment">//会被定义成全局变量，严格模式下不允许</span></span><br><span class="line">strTemp2=<span class="string">'string temp2'</span>;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(global,<span class="string">'strTemp2'</span>);</span><br><span class="line"><span class="keyword">delete</span> strTemp1;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>执行结果：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">value</span>: <span class="string">'string temp'</span>,</span><br><span class="line">  writable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">false</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line">&#123; <span class="attr">value</span>: <span class="string">'string temp'</span>,</span><br><span class="line">  writable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>可以看到var申明变量的configurable为false所以它是无法删除的，而直接申明变量的configurable为true，所以它是可以删除的</p>
<ul>
<li>不得重名：属性名、参数名</li>
<li>禁止使用八进制表示数字</li>
<li>保留字不得用做标识符</li>
</ul>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>弱类型（变量可以表示任何类型的值）<br>性质：保存值的占位符<br>定义：使用var来定义变量，省略它会定义为全局变量（不推荐）</p>
<h2 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h2><ul>
<li><p>简单数据类型：Undefined/Null/String/Number/Boolean</p>
</li>
<li><p>复杂数据类型：Object</p>
<table><br>  <tr><br>      <td>数据类型</td><br>      <td>要点</td><br>  </tr><br>  <tr><br>      <td>Undefined</td><br>      <td><br>          Undefined类型只有一个值就是undefined，那么如何定义Undefined类型呢：<br>          <ul><br>              <li>值定义后没有初始化</li><br>              <li>值定义后，使用 undefined 来初始化</li><br>              <li>函数没有返回值，会返回undefined</li><br>              <li>函数的参数没有传值时，参数值为undefined</li><br>          </ul><br>          建议：变量定义时尽量给出一个初始值<br>      </td><br>  </tr><br>  <tr><br>      <td><br>          Null<br>      </td><br>      <td><br>          Null与Undefined的区别<br>          <ul><br>              <li>Number(null) = 0, Number(undefined) = NaN</li><br>              <li>null：没有对象，undefined：缺少值</li><br>          </ul><br>      </td><br>  </tr><br>  <tr><br>      <td>Boolean</td><br>      <td><br>          <p>只有两个值：true和false</p><br>          <p>其他类型均可以转成布尔值，使用Boolean()函数</p><br>      </td><br>  </tr><br>  <tr><br>      <td>Number</td><br>      <td><br>          <p>在JavaScript中，数值类型只有一种，内部表示为64位浮点数。所以在JavaScript中实际上是没有整数类型的。然而需要注意的是，数组索引、位操作符等使用的是基于32位的整数。</p><br>          <p>三种进制(十进制：10，八进制：010，十六进制：0x10)</p><br>          <p>E表示法</p><br>          <p>Number.MAX_VALUE / MIN_VALUE / Infinity / -Infinity / isFinite()</p><br>          <p>NaN / isNaN()</p><br>          <p>Number()函数转成数值型</p><br>          <p>parseInt()</p><br>          <p>parseFloat()</p><br>      </td><br>  </tr><br>  <tr><br>      <td>String</td><br>      <td><br>          <p>单引号与双引号完全相同</p><br>          <p>.toString() / String()</p><br>      </td><br>  </tr><br>  <tr><br>      <td>Object</td><br>      <td><br>          <p>成员：值或函数方法</p><br>          <p>无序</p><br>      </td><br>  </tr><br>  <tr><br>      <td>typeof</td><br>      <td><br>          <p>是操作符，不是函数</p><br>          <p>检查数据类型或函数</p><br>          <p>检查结果：undefined / boolean / string / number / object / function</p><br>      </td><br>  </tr><br></table>

</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/14/java基础加强-集合4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/14/java基础加强-集合4/" itemprop="url">java基础加强-集合（四）视图与包装器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-14T11:41:17+08:00">
                2018-04-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/collection/" itemprop="url" rel="index">
                    <span itemprop="name">collection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="视图与包装器（Views-and-Wrappers）"><a href="#视图与包装器（Views-and-Wrappers）" class="headerlink" title="视图与包装器（Views and Wrappers）"></a>视图与包装器（Views and Wrappers）</h1><p>看了集合的接口图和类图可能会感觉： 用如此多的接口和抽象类来实现数量并不多的具体集合类似乎没有太大必要。然而， 这两张图并没有展示出全部的情况。通过使用视图( views) 可以获得其他的实现了 <code>Collection</code> 接口和 <code>Map</code> 接口的对象。映射类的 <code>keySet</code> 方法就是一个这样的示例。初看起来， 好像这个方法创建了一个新集， 并将映射中的所有键都填进去，然后返回这个集。但是， 情况并非如此。取而代之的是： <code>keySet</code> 方法返回一个实现 <code>Set</code> 接口的类对象， 这个类的方法对原映射进行操作。这种集合称为视图。</p>
<h2 id="轻量级集合包装器-Lightweight-Collection-Wrappers"><a href="#轻量级集合包装器-Lightweight-Collection-Wrappers" class="headerlink" title="轻量级集合包装器(Lightweight Collection Wrappers)"></a>轻量级集合包装器(Lightweight Collection Wrappers)</h2><ul>
<li><code>Arrays</code>的<code>asList</code></li>
</ul>
<p><code>Arrays</code> 类的静态方法 <code>asList</code> 将返回一个包装了普通 Java 数组的 List 包装器。这个方法可以将数组传递给一个期望得到列表或集合参数的方法。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Card[] cardOeck = <span class="keyword">new</span> Card[<span class="number">52</span>];</span><br><span class="line">List&lt;Card&gt; cardList = Arrays.asList(cardDeck):</span><br></pre></td></tr></table></figure></p>
<p>返回的对象不是 ArrayList。它是一个视图对象， 带有访问底层数组的 get 和 set方法。改变数组大小的所有方法（例如，与迭代器相关的 add 和 remove 方法）都会抛出一个<code>Unsupported OperationException</code> 异常。</p>
<p><code>asList</code> 方法可以接收可变数目的参数。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">"Amy"</span>, <span class="string">"Bob"</span>, <span class="string">"Carl"</span>);</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>Collections.nCopies</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.nCopies(n, anObject)</span><br></pre></td></tr></table></figure>
<p>将返回一个实现了 <code>List</code> 接口的不可修改的对象， 并给人一种包含n个元素， 每个元素都像是<br>一个 anObject 的错觉。<br>例 如，下面的调用将创建一个包含100个字符串的<code>List</code>, 每串都被设置为”DEFAULT”：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; settings = Collections.nCopies(<span class="number">100</span>, <span class="string">"DEFAULT"</span>);</span><br></pre></td></tr></table></figure></p>
<p>存储代价很小。这是视图技术的一种巧妙应用。</p>
<ul>
<li><code>Collections.singleton(anObject)</code></li>
</ul>
<p>将返回一个视图对象。这个对象实现了 <code>Set</code> 接口（与产生 <code>List</code> 的 <code>ncopies</code> 方法不同）。返回的对象实现了一个不可修改的单元素集。 <code>singletonList</code>方法与 <code>singletonMap</code> 方法类似。</p>
<ul>
<li>空集 </li>
</ul>
<p>类似地，对于集合框架中的每一个接口，还有一些方法可以生成空集、 列表、 映射， 等<br>等。特别是， 集的类型可以推导得出：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; deepThoughts = Collections.emptySet() ;</span><br></pre></td></tr></table></figure></p>
<h2 id="子范围-Subranges"><a href="#子范围-Subranges" class="headerlink" title="子范围(Subranges)"></a>子范围(Subranges)</h2><p>获得一个列表的子范围视图:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List group2 = staff.subList(<span class="number">10</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure></p>
<p>第一个索引包含在内， 第二个索引则不包含在内。<br>可以将任何操作应用于子范围，并且能够自动地反映整个列表的情况。 例如，可以删除整个子范围：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group2.clear(); <span class="comment">// staff reduction</span></span><br></pre></td></tr></table></figure></p>
<p><code>staff</code> 列表中的相应元素被清除了， 并且 <code>group2</code> 为空。</p>
<p>对于有序集和映射， 可以使用排序顺序而不是元素位置建立子范围。<code>SortedSet</code> 接口声明了 3 个方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SortedSet&lt; E&gt; subSet(E from, E to)</span><br><span class="line">SortedSet&lt; E&gt; headSet(E to)</span><br><span class="line">SortedSet&lt; E&gt; <span class="function">tail <span class="title">Set</span><span class="params">(E from)</span></span></span><br></pre></td></tr></table></figure>
<p>这些方法将返回大于等于 <code>from</code> 且小于 <code>to</code> 的所有元素子集。有序映射也有类似的方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SortedMap&lt; K, V&gt; subMap(K from, K to)</span><br><span class="line"><span class="function">SortedMap&lt;K, V&gt; <span class="title">headMap</span><span class="params">(K to)</span></span></span><br><span class="line"><span class="function">SortedMap&lt;K, V&gt; tail <span class="title">Map</span><span class="params">(K from)</span></span></span><br></pre></td></tr></table></figure></p>
<p>返回映射视图， 该映射包含键落在指定范围内的所有元素。<br>Java SE 6 引人的 <code>NavigableSet</code> 接口赋予子范围操作更多的控制能力。可以指定是否包括边界：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">NavigableSet&lt;E&gt; <span class="title">subSet</span> <span class="params">( E from, <span class="keyword">boolean</span> fromlnclusive, E to, <span class="keyword">boolean</span> tolnclusive)</span></span></span><br><span class="line"><span class="function">NavigableSet&lt;E&gt; <span class="title">headSet</span><span class="params">(E to, <span class="keyword">boolean</span> tolnclusive)</span></span></span><br><span class="line"><span class="function">Navigab1eSet&lt;E&gt; tail <span class="title">Set</span><span class="params">(E from, <span class="keyword">boolean</span> fromlnclusive)</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="不可修改的视图-Unmodifable-Views"><a href="#不可修改的视图-Unmodifable-Views" class="headerlink" title="不可修改的视图(Unmodifable Views)"></a>不可修改的视图(Unmodifable Views)</h2><p>Collections 还有几个方法， 用于产生集合的不可修改视图 （ unmodifiable views)。这些视图对现有集合增加了一个运行时的检查。如果发现试图对集合进行修改， 就抛出一个异常，同时这个集合将保持未修改的状态。</p>
<p>可以使用下面 8 种方法获得不可修改视图：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Collections.unmodifiableCollection(Collection&lt;? extends T&gt; c)</span><br><span class="line">Collections.unmodifiableList(List&lt;? extends T&gt; list)</span><br><span class="line">Collections.unmodifiableSet(Set&lt;? extends T&gt; s)</span><br><span class="line">Collections.unmodifiableSortedSet(SortedSet&lt;T&gt; s)</span><br><span class="line">Collections.unmodifiableNavigableSet(NavigableSet&lt;T&gt; s)</span><br><span class="line">Collections.unmodifiableMap(Map&lt;? extends K, ? extends V&gt; m)</span><br><span class="line">Collections.unmodifiableSortedMap(SortedMap&lt;K, ? extends V&gt; m)</span><br><span class="line">Collections.unmodifiableNavigableMap(NavigableMap&lt;K, ? extends V&gt; m)</span><br></pre></td></tr></table></figure></p>
<p>每个方法都定义于一个接口。 例如，<code>Collections.unmodifiableList</code>的参数是<code>List&lt;? extends T&gt; list</code>，这样就可以与<code>ArrayList</code>、<code>LinkedList</code>或者任何实现了<code>List</code>接口的其他类一起协同工作。</p>
<p>例如， 假设想要查看某部分代码， 但又不触及某个集合的内容， 就可以进行下列操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; staff = <span class="keyword">new</span> LinkedList() ;</span><br><span class="line">lookAt (Collections.unmodifiableList(staff));</span><br></pre></td></tr></table></figure>
<p><code>Collections.unmodifiableList</code>方法将返回一个实现 <code>List</code> 接口的类对象。</p>
<p>由于视图只是包装了接口而不是实际的集合对象， 所以只能访问接口中定义的方法。例如，<code>LinkedList</code>类有一些非常方便的方法，<code>addFirst</code> 和 <code>addLast</code>，它们都不是 <code>List</code> 接的方法，不能通过不可修改视图进行访问。</p>
<h2 id="同步视图（Synchronized-Views）"><a href="#同步视图（Synchronized-Views）" class="headerlink" title="同步视图（Synchronized Views）"></a>同步视图（Synchronized Views）</h2><p><code>Collections</code>类有一系列的方法来得到一个集合的同步视图：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Collection&lt;T&gt; <span class="title">synchronizedCollection</span><span class="params">(Collection&lt;T&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; List&lt;T&gt; <span class="title">synchronizedList</span><span class="params">(List&lt;T&gt; list)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K,V&gt; Map&lt;K,V&gt; <span class="title">synchronizedMap</span><span class="params">(Map&lt;K,V&gt; m)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K,V&gt; NavigableMap&lt;K,V&gt; <span class="title">synchronizedNavigableMap</span><span class="params">(NavigableMap&lt;K,V&gt; m)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; NavigableSet&lt;T&gt; <span class="title">synchronizedNavigableSet</span><span class="params">(NavigableSet&lt;T&gt; s)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Set&lt;T&gt; <span class="title">synchronizedSet</span><span class="params">(Set&lt;T&gt; s)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K,V&gt; SortedMap&lt;K,V&gt; <span class="title">synchronizedSortedMap</span><span class="params">(SortedMap&lt;K,V&gt; m)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; SortedSet&lt;T&gt; <span class="title">synchronizedSortedSet</span><span class="params">(SortedSet&lt;T&gt; s)</span></span></span><br></pre></td></tr></table></figure>
<h2 id="关于可选操作的说明"><a href="#关于可选操作的说明" class="headerlink" title="关于可选操作的说明"></a>关于可选操作的说明</h2><p>在集合和迭代器接口的 API 文档中， 许多方法描述为“可选操作”。这看起来与接口的概念有所抵触。毕竟， 接口的设计目的难道不是负责给出一个类必须实现的方法吗？ 确实，从理论的角度看，在这里给出的方法很难令人满意。一个更好的解决方案是为每个只读视图和不能改变集合大小的视图建立各自独立的两个接口。不过， 这将会使接口的数量成倍增长，这让类库设计者无法接受。</p>
<p>所谓“可选操作”存在的原因是因为许多视图并不支持所有操作，当尝试调用这些不支持的操作时，就会抛出<code>UnsupportedOperationException</code>异常</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/12/java基础加强-集合3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/12/java基础加强-集合3/" itemprop="url">java基础加强-集合（三）映射</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-12T10:01:01+08:00">
                2018-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/collection/" itemprop="url" rel="index">
                    <span itemprop="name">collection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h1><h2 id="基本映射操作"><a href="#基本映射操作" class="headerlink" title="基本映射操作"></a>基本映射操作</h2><p>Java 类库为映射提供了两个通用的实现： HashMap 和 TreeMap 。这两个类都实现了 Map 接口。</p>
<p>散列映射（hash map）对键进行散列， 树映射（tree map）用键值对元素进行排序， 并将其组织成搜索树。散列或比较函数只能作用于键。与键关联的值不能进行散列或比较。</p>
<p>键和值都允许为null。当使用<code>get(Object key)</code>方法获取元素时，若<code>key</code>不存在，则返回null。你也可以使用<code>getOrDefault(Object key, V defaultValue)</code>方法指定一个当<code>key</code>不存在时的默认值，一点要注意的是若<code>key</code>存在，而对应的<code>value</code>为null，此时返回null，不会返回你指定的默认值。</p>
<p>映射中的<code>key</code>必须唯一，如果<code>key</code>值相同，那么后<code>put</code>的<code>value</code>将会取代先前的<code>value</code>。</p>
<p>要迭代处理映射的键和值， 最容易的方法是使用 forEach 方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scores.forEach((k, v) -&gt;</span><br><span class="line">    System.out.println(<span class="string">"key="</span> + k + <span class="string">", value="</span> + v));</span><br></pre></td></tr></table></figure></p>
<h2 id="更新映射项"><a href="#更新映射项" class="headerlink" title="更新映射项"></a>更新映射项</h2><p>更新元素最简单的方法自然是<code>V put(K key, V value)</code>，但是如果我们是要对其中的元素值进行一些操作的话，可能还有更好的选择。</p>
<ul>
<li>merge</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">merge</span><span class="params">(K key, V value, BiFunction&lt;? <span class="keyword">super</span> V,? <span class="keyword">super</span> V,? extends V&gt; remappingFunction)</span></span></span><br></pre></td></tr></table></figure>
<p><code>merge</code>方法的作用是：如果<code>get(key)</code>不为null，那么会将<code>get(key)</code>和<code>value</code>作为<code>remappingFunction</code>方法的参数，<code>remappingFunction</code>的返回值作为结果重新和<code>key</code>绑定；反之如果如果<code>get(key)</code>为null，那么会直接<code>put(key,value)</code>。如果<code>remappingFunction</code>的返回值为null，则会删除该元素。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统计单词出现的次数</span></span><br><span class="line">counts.merge(word,<span class="number">1</span>,Integer::sum);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">compute</span><span class="params">(K key, BiFunction&lt;? <span class="keyword">super</span> K,? <span class="keyword">super</span> V,? extends V&gt; remappingFunction)</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>compute</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">compute</span><span class="params">(K key, BiFunction&lt;? <span class="keyword">super</span> K,? <span class="keyword">super</span> V,? extends V&gt; remappingFunction)</span></span></span><br></pre></td></tr></table></figure>
<p><code>compute</code>方法的作用是将<code>key</code>和<code>get(key)</code>作为参数传给<code>remappingFunction</code>方法，<code>remappingFunction</code>方法的返回值作为结果和<code>key</code>绑定，若<code>get(key)</code>为null，则会新创建一个元素<code>put</code>到map里。如果<code>remappingFunction</code>的返回值为null，则会删除该元素。</p>
<ul>
<li>computeIfPresent</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">computeIfPresent</span><span class="params">(K key, BiFunction&lt;? <span class="keyword">super</span> K,? <span class="keyword">super</span> V,? extends V&gt; remappingFunction)</span></span></span><br></pre></td></tr></table></figure>
<p><code>computeIfPresent</code>方法与<code>compute</code>方法的不同点在于：<code>computeIfPresent</code>方法只有在<code>get(key)</code>不为null的情况下，才会去做<code>remappingFunction</code></p>
<ul>
<li>computeIfAbsent</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">computeIfAbsent</span><span class="params">(K key, Function&lt;? <span class="keyword">super</span> K,? extends V&gt; mappingFunction)</span></span></span><br></pre></td></tr></table></figure>
<p><code>computeIfAbsent</code>方法的作用是如果<code>get(key)</code>为null，则将<code>key</code>做为参数传给<code>mappingFunction</code>,<code>mappingFunction</code>方法的返回值作为结果和<code>key</code>绑定，若<code>mappingFunction</code>方法的返回值为null，则什么也不做。</p>
<ul>
<li>replaceAll</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">replaceAll</span><span class="params">(BiFunction&lt;? <span class="keyword">super</span> K,? <span class="keyword">super</span> V,? extends V&gt; function)</span></span></span><br></pre></td></tr></table></figure>
<p>用<code>function</code>函数的结果替换每个<code>entry</code></p>
<h2 id="映射视图（Map-Views）"><a href="#映射视图（Map-Views）" class="headerlink" title="映射视图（Map Views）"></a>映射视图（Map Views）</h2><p>有3种视图：键集、值集合（不是一个集）以及键 / 值对集。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span></span></span><br><span class="line"><span class="function">Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span></span></span><br><span class="line"><span class="function">Set&lt;Map.Entry&lt;K, V&gt;&gt; <span class="title">entrySet</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>keySet()</code>返回的并不是一个<code>HashSet</code>或者<code>TreeSet</code>,而是实现了 <code>Set</code> 接口的另外某个类的对象。 <code>Set</code> 接口扩展了 <code>Collection</code> 接口。因此， 可以像使用集合一样使用 <code>keySet</code>。例如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; keys = map.keySet();</span><br><span class="line"><span class="keyword">for</span> (String key : keys)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//do something with key</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果想同时查看键和值， 可以通过枚举条目来避免查找值。使用以下代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Employee&gt; entry : staff.entrySet())</span><br><span class="line">&#123;</span><br><span class="line">    String k = entry.getKey();</span><br><span class="line">    Employee v = entry.getValue();</span><br><span class="line">    <span class="comment">//do something with k, v</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>原先上面的方法是访问所有映射条目的最高效的方法。如今，只需要使用 forEach 方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">counts.forEach((k， v) -&gt; &#123;</span><br><span class="line">    <span class="comment">//dosomethingwith k, v</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果在键集视图上调用迭代器的 remove 方法， 实际上会从映射中删除这个键和与它关联的值。不过，不能向键集视图增加元素。另外， 如果增加一个键而没有同时增加值也是没有意义的。 如果试图调用 add 方法， 它会抛出一个 UnsupportedOperationException。 条目集视图有同样的限制。</p>
<h2 id="弱散列映射（Weak-Hash-Maps）"><a href="#弱散列映射（Weak-Hash-Maps）" class="headerlink" title="弱散列映射（Weak Hash Maps）"></a>弱散列映射（Weak Hash Maps）</h2><p>设计 <code>WeakHashMap</code> 类是为了解决一个有趣的问题。 一个值，对应的键已经不再使用了，为了使它能被垃圾回收器回收，我们可以用<code>WeakHashMap</code> 类。</p>
<h2 id="链接散列集与映射（Linked-Hash-Sets-and-Maps）"><a href="#链接散列集与映射（Linked-Hash-Sets-and-Maps）" class="headerlink" title="链接散列集与映射（Linked Hash Sets and Maps）"></a>链接散列集与映射（Linked Hash Sets and Maps）</h2><p><code>LinkedHashSet</code> 和 <code>LinkedHashMap</code> 类用来记住插人元素项的顺序。当条目插入到表中时，就会并人到双向链表中。</p>
<div align="left"><br>    <img src="/images/java基础加强-集合(三)/A linked hash table.png" alt="A linked hash table"><br></div>

<p>默认的情况下，遍历键集、值集合、键 / 值对集的时候是按插入顺序来的。但是如果你是用下面的方法创建的<code>LinkedHashMap</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LinkedHashMap&lt;K, V&gt;(initialCapacity, loadFactor, <span class="keyword">true</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>true</code>表示使用access-order，此时对元素进行<code>get</code>和<code>put</code>操作，都会使元素被放到链表尾部。它的用处在于可以用来实现高速缓存，我们可以构造一<code>LinkedHashMap</code>的子类，然后覆盖下面这个方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">removeEldestEntry</span><span class="params">(Map.Entry&lt;K, V&gt; eldest)</span></span></span><br></pre></td></tr></table></figure></p>
<p>当函数返回<code>true</code>时会自动删除eldest元素。</p>
<h2 id="枚举集与映射（Enumeration-Sets-and-Maps）"><a href="#枚举集与映射（Enumeration-Sets-and-Maps）" class="headerlink" title="枚举集与映射（Enumeration Sets and Maps）"></a>枚举集与映射（Enumeration Sets and Maps）</h2><p><code>EmumSet</code> 是一个枚举类型元素集的高效实现。 由于枚举类型只有有限个实例， 所以<code>EnumSet</code> 内部用位序列实现。如果对应的值在集中， 则相应的位被置为 1。</p>
<p><code>EnumSet</code> 类没有公共的构造器。可以使用静态工厂方法构造这个集：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Weekday &#123; MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY &#125;;</span><br><span class="line">EnumSet&lt;Weekday&gt; always = EnumSet.allOf(Weekday.class);</span><br><span class="line">EnumSet&lt;Weekday&gt; never = EnumSet.noneOf(Weekday.class);</span><br><span class="line">EnumSet&lt;Weekday&gt; workday = EnumSet.range(Weekday.MONDAY, Weekday.FRIDAY);</span><br><span class="line">EnumSet&lt;Weekday&gt; mwf = EnumSet.of(Weekday.MONDAY, Weekday.WEDNESDAY, Weekday.FRIDAY);</span><br></pre></td></tr></table></figure></p>
<p>EnumMap 是一个键类型为枚举类型的映射。它可以直接且高效地用一个值数组实现。在使用时， 需要在构造器中指定键类型：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EnumMap&lt;Weekday, Employee&gt; personInCharge = <span class="keyword">new</span> EnumMap&lt;&gt;(Weekday.class);</span><br></pre></td></tr></table></figure></p>
<h2 id="标识散列映射-Identity-Hash-Maps"><a href="#标识散列映射-Identity-Hash-Maps" class="headerlink" title="标识散列映射(Identity Hash Maps)"></a>标识散列映射(Identity Hash Maps)</h2><p>类 <code>IdentityHashMap</code> 有特殊的作用。在这个类中， 键的散列值不是用 <code>hashCode</code> 函数计算<br>的， 而是用 <code>System.identityHashCode</code> 方法计算的。 这是 <code>Object.hashCode</code> 方法根据对象的内存地址来计算散列码时所使用的方式。 而且， 在对两个对象进行比较时，<code>IdentityHashMap</code> 类使用 ==, 而不使用 equals。也就是说， 不同的键对象， 即使内容相同， 也被视为是不同的对象。 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/10/java基础加强-集合2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/10/java基础加强-集合2/" itemprop="url">java基础加强-集合(二) 具体的集合</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-10T11:26:46+08:00">
                2018-04-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/collection/" itemprop="url" rel="index">
                    <span itemprop="name">collection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div align="left"><br>    <img src="/images/java基础加强-集合(二)/Classes in the collections framework.png" alt="Classes in the collections framework"><br></div>

<h1 id="Linked-Lists"><a href="#Linked-Lists" class="headerlink" title="Linked Lists"></a>Linked Lists</h1><p><code>ArrayList</code>有一个很大的缺陷：在中间删除一个元素的开销是非常大的，因为删除完该元素后，后面的元素都得往前移动，插入同理。</p>
<div align="left"><br>    <img src="/images/java基础加强-集合(二)/Removing an element from an array.png" alt="Removing an element from an array"><br></div>

<p><code>LinkedList</code>解决了这个问题。<code>ArrayList</code>中的元素是顺序存储的，而<code>LinkedList</code>的元素存在一个个结点中，每个结点都包含对下一个结点的引用和对上一个结点的引用。</p>
<div align="left"><br>    <img src="/images/java基础加强-集合(二)/A doubly linked list.png" alt="A doubly linked list"><br></div>

<p>这样，删除中间某个元素的操作就只需将改元素前后两个元素连接起来即可。</p>
<div align="left"><br>    <img src="/images/java基础加强-集合(二)/Removing an element from a linked list.png" alt="Removing an element from a linked list"><br></div>

<p><code>ListIterator</code>作为<code>Iterator</code>的子接口，为<code>List</code>额外提供了下面一系列方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasPrevious</span><span class="params">()</span></span></span><br><span class="line"><span class="function">E <span class="title">previous</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">nextIndex</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">previousIndex</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(E e)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(E e)</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>AbstractList</code>定义了<code>listIterator</code>方法用来返回一个<code>ListIterator</code>的具体实现。</p>
<p>下面我们来加深一下对迭代器在<code>List</code>中添加删除元素的理解。我们用<code>|</code>来标注迭代器的位置。假设现在我们有一个<code>List</code>是<code>ABCD</code>，我们可以通过<code>iterator</code>方法或者<code>listIterator</code>方法获取到迭代器。</p>
<table>
<thead>
<tr>
<th>元素</th>
<th style="text-align:center">操作</th>
<th style="text-align:right">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#124;ABCD</td>
<td style="text-align:center">next</td>
<td style="text-align:right">A&#124;BCD</td>
</tr>
<tr>
<td>A&#124;BCD</td>
<td style="text-align:center">remove</td>
<td style="text-align:right">&#124;BCD</td>
</tr>
<tr>
<td>&#124;BCD</td>
<td style="text-align:center">next</td>
<td style="text-align:right">B&#124;CD</td>
</tr>
<tr>
<td>B&#124;CD</td>
<td style="text-align:center">remove</td>
<td style="text-align:right">&#124;CD</td>
</tr>
<tr>
<td>&#124;CD</td>
<td style="text-align:center">add(E)</td>
<td style="text-align:right">E&#124;CD</td>
</tr>
<tr>
<td>E&#124;CD</td>
<td style="text-align:center">add(F)</td>
<td style="text-align:right">EF&#124;CD</td>
</tr>
<tr>
<td>EF&#124;CD</td>
<td style="text-align:center">next</td>
<td style="text-align:right">EFC&#124;D</td>
</tr>
<tr>
<td>EFC&#124;D</td>
<td style="text-align:center">set(G)</td>
<td style="text-align:right">EFG&#124;D</td>
</tr>
</tbody>
</table>
<font color="red">综上，迭代器本身并不表示任何一个元素，它只能标识位置。<code>add</code>方法只依赖与迭代器的位置，而<code>remove</code>和<code>set</code>方法依赖迭代器的状态。所以在调用<code>remove</code>和<code>set</code>之前必须先调用<code>next</code>或者<code>previous</code>方法，因为这两个方法会返回元素。而<code>add</code>方法没有限制，它表示在迭代器位置前插入一个元素，连续插入时，元素的顺序与插入顺序一致。</font>

<p>并发的问题：</p>
<blockquote>
<p>在<code>AbstractList</code>中定义了<code>modCount</code>字段，所有<code>add</code>和<code>remove</code>操作都会使<code>modCount</code>+1。当通过<code>iterator</code>或者<code>listIterator</code>方法获取迭代器时，迭代器中的<code>expectedModCount</code>字段会被初始化为<code>modCount</code>。所以，当别的迭代器或者集合方法改变了<code>modCount</code>值后，就会导致之前迭代器的<code>expectedModCount</code>和<code>modCount</code>值不一样，此时再使用之前迭代器就会报<code>ConcurrentModificationException</code>异常</p>
</blockquote>
<h1 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h1><p>与<code>LinkedList</code>以结点存储元素不同，<code>ArrayList</code>底层使用数组来存储元素。</p>
<p>所以，如果你要用索引来获取元素，那么不要用<code>LinkedList</code>，因为<code>LinkedList</code>必须用迭代器来获取元素（<code>LinkedList</code>也提供了<code>get(int index)</code>方法，但这个方法时效率很低的）</p>
<p><code>Vector</code>我们不经常使用，它的底层实现也是数组，它和<code>ArrayList</code>的不同之处在于它的所有方法都是同步的。</p>
<h1 id="HashSets（散列集）"><a href="#HashSets（散列集）" class="headerlink" title="HashSets（散列集）"></a>HashSets（散列集）</h1><p>散列表是一种能够快速找到元素的集合。这种数据结构会为每个元素计算一个散列码，通过散列码来定位元素在它内部数组中的位置。</p>
<p>如果你要向散列表中添加你自定义的类型。那么你必须实现<code>hashCode</code>方法和<code>equals</code>方法，而且要保证相等元素必定有相同的散列码。</p>
<p>java实现散列表的方式：</p>
<blockquote>
<p>链表的数组，每一个链表被称为一个桶(bucket)。当你向散列表中添加元素时，首先会计算元素的散列码，比如计算出来的散列码为<code>76268</code>，而此时桶的总数量为<code>128</code>，那么我们就可以计算出元素所在桶的索引为<code>76268 % 128 = 108</code>，如果此时索引为<code>108</code>的这个桶是空的，那么直接将新元素添加进链表，反之，我们称为散列冲突（hash collision），需要将新对象和桶中的所有元素一一比较来确定对象是否存在。如果散列码是合理的随机分布的，而且桶的数量足够大，那么冲突的机会会很少。</p>
</blockquote>
<div align="left"><br>    <img src="/images/java基础加强-集合(二)/A hash table.png" alt="A hash table"><br>    <br><br>    <p><i><b>一个散列表</b></i></p><br></div>

<p>如果你想更好的掌控散列表的额性能，你可以自己设置桶的初始数量，推荐值是总元素个数的75%~150%，当然你不会总是知道散列表中最终有多少个元素，此时就用默认值好了。java散列表桶的数量总是被设为2的幂，默认初始值为16，你设置的值总会被自动转为2的下一个幂。<br>当添加的元素过多，会导致散列冲突增加，影响性能。所以还有一个参数叫装填因子（load factor），默认值为0.75，它定义了一个散列表何时再散列 （rehashed)。比如当装填因子为0.75时，如果已经使用的桶的数量超过75%，就会触发再散列，此时会将桶的总数扩大至2倍。对于大多数应用程序来说， 装填因子为0.75 是比较合理的。</p>
<blockquote>
<p>java8中，桶满时（链表的元素大于8），链表会转为红黑树</p>
</blockquote>
<h1 id="Tree-Sets-树集"><a href="#Tree-Sets-树集" class="headerlink" title="Tree Sets(树集)"></a>Tree Sets(树集)</h1><p><code>TreeSet</code>类与散列表十分相似，有一点改进就是它是一个有序集合。</p>
<p>你在使用<code>TreeSet</code>时，要么集合中的元素是可比较的（实现了<code>Comparable</code>接口，提供了<code>compareTo</code>方法），要么在创建<code>TreeSet</code>的时候传入一个比较器（<code>Comparator</code>的实现）。</p>
<p>多提一点，排序是基于树结构的（目前的实现方式是红黑树）</p>
<blockquote>
<p>从 JavaSE 6 起， TreeSet 类实现了 NavigableSet 接口。 这个接口增加了几个便于定位元素以及反向遍历的方法。</p>
</blockquote>
<h1 id="Queues-and-Deques-队列与双端队列"><a href="#Queues-and-Deques-队列与双端队列" class="headerlink" title="Queues and Deques(队列与双端队列)"></a>Queues and Deques(队列与双端队列)</h1><p>前面已经讨论过， 队列可以让人们有效地在尾部添加一个元素， 在头部删除一个元素。有两个端头的队列， 即双端队列， 可以让人们有效地在头部和尾部同时添加或删除元素。不支持在队列中间添加元素。在 Java SE 6 中引人了 Deque 接口， 并由 ArrayDeque 和LinkedList 类实现。这两个类都提供了双端队列，而且在必要时可以增加队列的长度。</p>
<h1 id="Priority-Queues-优先级队列"><a href="#Priority-Queues-优先级队列" class="headerlink" title="Priority Queues(优先级队列)"></a>Priority Queues(优先级队列)</h1><p>优先级队列不排序。它的底层通过二叉小顶堆实现。进行<code>add</code>和<code>remove</code>操作是都会使优先级最小的元素滑落到根节点，这样你每次在获取元素的时候，总是得到优先级最小的</p>
<blockquote>
<p>上面说的优先级是说值，习惯上值小优先级高</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/04/java基础加强-集合1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/04/java基础加强-集合1/" itemprop="url">java基础加强-集合(一) 集合框架</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-04T15:00:39+08:00">
                2018-04-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/collection/" itemprop="url" rel="index">
                    <span itemprop="name">collection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="java集合框架"><a href="#java集合框架" class="headerlink" title="java集合框架"></a>java集合框架</h1><h2 id="分离接口和实现"><a href="#分离接口和实现" class="headerlink" title="分离接口和实现"></a>分离接口和实现</h2><p>接口和实现分离的好处是，你在编程的时候可以用接口类型来代表一个具体集合的引用，当你改变主意时，你只需要使用不同的集合实现类即可，如下例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Customer&gt; expressLane = <span class="keyword">new</span> ArrayList&lt;&gt;;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Customer&gt; expressLane = <span class="keyword">new</span> LinkedList&lt;&gt;;</span><br></pre></td></tr></table></figure>
<h2 id="Collection接口"><a href="#Collection接口" class="headerlink" title="Collection接口"></a>Collection接口</h2><p>Collection接口是最基本的集合接口，它提供了两个最基本的抽象方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E element)</span></span>;</span><br><span class="line">    <span class="function">Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">    . . .</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Iterators-迭代器"><a href="#Iterators-迭代器" class="headerlink" title="Iterators(迭代器)"></a>Iterators(迭代器)</h2><p><code>Iterator</code>接口有四个方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEachRemaining</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> E&gt; action)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用<code>Iterator</code>遍历集合：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = . . .;</span><br><span class="line">Iterator&lt;String&gt; iter = c.iterator();</span><br><span class="line"><span class="keyword">while</span> (iter.hasNext())</span><br><span class="line">&#123;</span><br><span class="line">    String element = iter.next();</span><br><span class="line">    <span class="comment">//do something with element</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你也可以使用更简洁的foreach loop：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String element : c)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//do something with element</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译器会将foreach loop转成iterator循环遍历。凡是实现了<code>Iterable</code>接口的类都能使用foreach loop。<code>Iterable</code>接口只有一个抽象方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function">Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">    . . .</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>到了java8，你甚至不需要写循环，只需条用<code>Iterator</code>接口的<code>forEachRemaining</code>方法并传入lambda表达式，就可以对每一个元素执行lambda表达式<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iterator.forEachRemaining(element -&gt; <span class="keyword">do</span> something with element);</span><br></pre></td></tr></table></figure></p>
<p>java集合库的iterators和传统集合库的iterators有所不同。传统集合库（例如c++的标准模板库）的iterators是基于数组索引,通过索引就可以找到指定位置元素，就像数组通过索引i就可以查看数组元素a[i]一样。不需要查找元素，就可以将迭代器向前移动。但是java不是这样的，查找元素的唯一方法就是调用<code>next</code>，该方法同时会将迭代器的位置向前移动。<br>因此java迭代器可以认为是在两个元素之间，当调用<code>next</code>方法时，迭代器跳过下一个元素，并返回它跳过的元素</p>
<div align="left"><br>    <img src="/images/java基础加强-集合(一)/Advancing an iterator.png" alt="Advancing an iterator"><br></div>

<p>最后一个<code>remove</code>方法会删除最后一个<code>next</code>方法返回的元素。重要的一点是在调用<code>remove</code>之前必须先调用<code>next</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">it.remove();</span><br><span class="line">it.remove(); <span class="comment">// Error!</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">it.remove();</span><br><span class="line">it.next();</span><br><span class="line">it.remove(); <span class="comment">// OK</span></span><br></pre></td></tr></table></figure>
<h2 id="泛型通用方法"><a href="#泛型通用方法" class="headerlink" title="泛型通用方法"></a>泛型通用方法</h2><p>由于<code>Collection</code>和<code>Iterator</code>都是泛型接口，这就意味着你可以给任何类型的集合写通用方法。例如你可以检测任意一个集合是否包含某个元素:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Collection&lt;E&gt; c, Object obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (E element : c)</span><br><span class="line">    <span class="keyword">if</span> (element.equals(obj))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实际上，<code>Collection</code>接口已经定义了很多有用的通用方法,包括上面提到的<code>contains</code>方法:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object other)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; from)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function">Object[] <span class="title">toArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&lt;T&gt; T[] <span class="title">toArray</span><span class="params">(T[] arrayToFill)</span></span></span><br></pre></td></tr></table></figure></p>
<p>但是这样子还有一个困扰就是，如果实现<code>Collection</code>接口的类都要提供上面那么多通用方法的实现，会很麻烦，所以集合库提供了<code>AbstractCollection</code>类，它将<code>iterator</code>和<code>size</code>方法抽象化了，并提供了其他方法的实现。这样具体的类只要继承<code>AbstractCollection</code>就无需自己实现所有<code>Collection</code>方法了。</p>
<p>但是到了java8，上面的方法就有点过时了，更优雅的做法是使用默认方法。目前集合库依然使用的是上面的做法，不过一些新加的方法已经使用了默认方法,比如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">removeIf</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> E&gt; filter)</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="集合框架中的接口"><a href="#集合框架中的接口" class="headerlink" title="集合框架中的接口"></a>集合框架中的接口</h2><div align="left"><br>    <img src="/images/java基础加强-集合(一)/The interfaces of the collections framework.png" alt="The interfaces of the collections framework"><br></div>

<p>集合框架中最基础的接口是<code>Collection</code>和<code>Map</code>。当我们向<code>Collection</code>中添加元素时我们会使用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E element)</span></span></span><br></pre></td></tr></table></figure></p>
<p>然而<code>Map</code>当中存储的是键值对，我们用<code>put</code>方法来插入元素：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">V <span class="title">put</span><span class="params">(K key, V value)</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>Collection</code>中我们用iterator来查看元素，而在<code>Map</code>中我们用<code>get</code>方法:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">V <span class="title">get</span><span class="params">(K key)</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>List</code>是一个有序的集合。其中的元素有两种获取方式：通过iterator或者通过索引值。前者成为顺序访问，而后者成为随机访问。<code>List</code>接口为随机访问增加了如下方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function">E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function">E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>ListIterator</code>接口是<code>Iterator</code>接口的子接口，它定义了在一个在iterator位置前插入元素的方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(E element)</span></span></span><br></pre></td></tr></table></figure></p>
<p>坦率地讲，集合框架的这个方面设计得很不好。实际中有两种有序集合，其性能开销有很大差异。由数组支持的有序集合<code>ArrayList</code>可以快速地随机访问，因此适合使用 List 方法并提供一个整数索引来访问。与之不同， 链表<code>LinkedList</code>尽管也是有序的， 但是随机访问很慢，所以最好使用迭代器来遍历。 如果原先提供两个接口就会容易一些了。</p>
<blockquote>
<p>为了避免对链表完成随机访问操作， Java SE 1.4 引入了一个标记接口 RandomAccess。<br>这个接口不包含任何方法， 不过可以用它来测试一个特定的集合是否支持高效的随机访问(<code>ArrayList</code>会返回true，而<code>LinkedList</code>会返回false)：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (c <span class="keyword">instanceof</span> RandomAccess)</span><br><span class="line">&#123;</span><br><span class="line">    use random access algorithm</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    use sequential access algorithm</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p><code>Set</code>接口和<code>Collection</code>接口一样，只不过<code>Set</code>接口对一些方法的定义更加严格。set的<code>add</code>方法不允许重复的元素，对于set来说要适当得定义<code>equals</code>方法：只要两个set中的元素都是相等的即可，不要求元素的顺序相同。<code>hashCode</code>方法要保证两个相等的元素必定会得到相同的散列码。</p>
<p>既然方法签名是一样的， 为什么还要建立一个单独的接口呢？ 从概念上讲， 并不是所有集合都是集。建立一个 Set 接口可以让程序员编写只接受集的方法。</p>
<p><code>SortedSet</code> 和 <code>SortedMap</code> 接口会提供用于排序的比较器对象，这两个接口定义了可以得到集合子集视图的方法。</p>
<p>最后，Java SE 6 引人了接口 <code>NavigableSet</code> 和 <code>NavigableMap</code>, 其中包含一些用于搜索和遍历有序集和映射的方法。（理想情况下，这些方法本应当直接包含在 <code>SortedSet</code> 和 <code>SortedMap</code>接口中。）<code>TreeSet</code> 和 <code>TreeMap</code> 类实现了这些接口。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/29/java基础加强-数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/java基础加强-数组/" itemprop="url">java基础加强-数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-29T10:10:54+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/array/" itemprop="url" rel="index">
                    <span itemprop="name">array</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数组的定义和初始化"><a href="#数组的定义和初始化" class="headerlink" title="数组的定义和初始化"></a>数组的定义和初始化</h1><p>两种定义方式：</p>
<blockquote>
<p>int[] a;<br>或者<br>int a[];</p>
</blockquote>
<p>定义并初始化：</p>
<blockquote>
<p>int[] a = new int[100];</p>
</blockquote>
<h1 id="数组的赋值"><a href="#数组的赋值" class="headerlink" title="数组的赋值"></a>数组的赋值</h1><ul>
<li>初始化同时赋值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] smallPrimes = &#123; <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span> &#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>for循环赋值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">    a[i] = i; <span class="comment">// fills the array with numbers 0 to 99</span></span><br></pre></td></tr></table></figure>
<ul>
<li>用匿名数组赋值</li>
</ul>
<p>初始化一个匿名数组<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span> &#125;</span><br></pre></td></tr></table></figure></p>
<p>再用这个匿名数组重新初始化其他变量<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smallPrimes = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span> &#125;;</span><br></pre></td></tr></table></figure></p>
<p>这种写法是下面这种写法的简化<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] anonymous = &#123; <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span> &#125;;</span><br><span class="line">smallPrimes = anonymous;</span><br></pre></td></tr></table></figure></p>
<h1 id="数组的拷贝"><a href="#数组的拷贝" class="headerlink" title="数组的拷贝"></a>数组的拷贝</h1><ul>
<li>引用拷贝</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] luckyNumbers = smallPrimes;</span><br><span class="line">luckyNumbers[<span class="number">5</span>] = <span class="number">12</span>; <span class="comment">// now smallPrimes[5] is also 12</span></span><br></pre></td></tr></table></figure>
<div align="left"><br>    <img src="/images/java基础加强-数组/拷贝数组变量.png" alt="container-magic"><br></div>

<p>这样两个变量指向同一段堆空间</p>
<ul>
<li>值拷贝</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">luckyNumbers = Arrays.copyOf(luckyNumbers, <span class="number">2</span> * luckyNumbers.length);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>1.第一个参数luckyNumbers是源数组<br>2.第二个参数是拷贝的长度<br>3.拷贝长度大于原数组长度时，多出来的元素被赋予该类型的默认值，如上例，后面的元素全是0<br>4.拷贝长度大于目标数组的长度，会新开辟一段堆空间，赋值，然后目标数组变量指向新建的堆</p>
</blockquote>
<h1 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a>命令行参数</h1><p>考虑如下代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (args.length == <span class="number">0</span> || args[<span class="number">0</span>].equals(<span class="string">"-h"</span>))</span><br><span class="line">            System.out.print(<span class="string">"Hello,"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (args[<span class="number">0</span>].equals(<span class="string">"-g"</span>))</span><br><span class="line">            System.out.print(<span class="string">"Goodbye,"</span>);</span><br><span class="line">            <span class="comment">// print the other command-line arguments</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; args.length; i++)</span><br><span class="line">                System.out.print(<span class="string">" "</span> + args[i]);</span><br><span class="line">            System.out.println(<span class="string">"!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>当你用命令行去执行时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java Message -g cruel world</span><br></pre></td></tr></table></figure></p>
<p>那么你的<code>args</code>数组将会是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">args[0]: &quot;-g&quot;</span><br><span class="line">args[1]: &quot;cruel&quot;</span><br><span class="line">args[2]: &quot;world&quot;</span><br></pre></td></tr></table></figure></p>
<p>程序将会打印：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Goodbye, cruel world!</span><br></pre></td></tr></table></figure></p>
<h1 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h1><ul>
<li><p>自己实现算法对数组进行排序</p>
</li>
<li><p>利用<code>java.util.Arrays.sort()</code>对数组进行排序</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>数组数据类型</th>
<th>排序方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>基本类型</td>
<td>java为各种基本类型提供了快速排序，<code>sort()</code>方法会调用各个基本类型的快速排序方法将数组做升序排列</td>
</tr>
<tr>
<td>类类型</td>
<td>对于用户自定义的类，需要实现<code>Comparable</code>接口的<code>compareTo</code>方法</td>
</tr>
</tbody>
</table>
<h1 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h1><p>我们只看二维数组</p>
<ul>
<li>二维数组的定义和初始化</li>
</ul>
<p>定义一个二维数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span>[][] balances;</span><br></pre></td></tr></table></figure>
<p>定义并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">balances = <span class="keyword">new</span> <span class="keyword">double</span>[NYEARS][NRATES];</span><br></pre></td></tr></table></figure>
<ul>
<li>二维数组的赋值</li>
</ul>
<p>初始化并赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] magicSquare =</span><br><span class="line">&#123;</span><br><span class="line">    &#123;<span class="number">16</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">13</span>&#125;,</span><br><span class="line">    &#123;<span class="number">5</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">8</span>&#125;,</span><br><span class="line">    &#123;<span class="number">9</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">12</span>&#125;,</span><br><span class="line">    &#123;<span class="number">4</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">1</span>&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>for循环赋值</li>
</ul>
<p>for loop<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; balances.length; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; balances[i].length; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        balances[i][j] = i+j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>foreach loop<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">double</span>[] row : a)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">double</span> value : row)</span><br><span class="line">        value = newValue;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>用匿名二维数组赋值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">balances = <span class="keyword">new</span> <span class="keyword">int</span>[][] &#123; </span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;,</span><br><span class="line">    &#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tip:要打印多维数组所有的元素，可以使用<code>System.out.println(Arrays.deepToString(a));</code>,打印的结果如下<code>[[16, 3, 2, 13], [5, 10, 11, 8], [9, 6, 7, 12], [4, 15, 14, 1]]</code></p>
</blockquote>
<h1 id="交错数组"><a href="#交错数组" class="headerlink" title="交错数组"></a>交错数组</h1><p>为了解释交错数组，首先要知道java没有多维数组（suprise！！！），所谓多维数组其实是数组的数组，也就是一维数组中每个元素的值还是一个数组，那么这就是个二维数组。</p>
<p>交错数组和二维数组的差别在于数组的数组它的长度不一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] balances = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;</span><br><span class="line">    &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">4</span>, <span class="number">5</span>&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<font color="red">所以说是二维数组还是交错数组决定权在我们，首先在定义和初始化的时候使用<code>int[2][]</code>或者<code>int[][]</code>而不定义死成<code>int[2][2]</code>,这样我们就可以等到者赋值的时候再来决定它是否是交错的</font>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/12/spring学习一-spring容器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/12/spring学习一-spring容器/" itemprop="url">spring学习一-spring容器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-12T11:08:57+08:00">
                2018-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>学习spring官网上的文档，虽然都是英文，看起来会有点吃力，但是希望能够坚持下去，加油！！！<br>首先从spring的核心技术开始，spring的核心技术包括ioc容器和aop切面编程，下面就从ioc容器开始</p>
<h1 id="ioc容器和beans"><a href="#ioc容器和beans" class="headerlink" title="ioc容器和beans"></a>ioc容器和beans</h1><h2 id="spring-ioc-和-beans-简介"><a href="#spring-ioc-和-beans-简介" class="headerlink" title="spring ioc 和 beans 简介"></a>spring ioc 和 beans 简介</h2><p>Inversion of Control (IoC 控制反转)还有一种叫法是dependency injection (DI 依赖注入)，叫法不同但其实表示的是同一个意思。要理解它们的意思就得看看它们和传统的初始化对象的方式有何不同。</p>
<ul>
<li><p>传统方式：控制权在对象，我们在对象内部通过new创建对象，但无论怎么说控制权在对象中</p>
</li>
<li><p>ioc方式：对象由容器创建，对象的依赖可以通过以下几种方式注入。</p>
<pre><code>1.创建类实例的时候将通过类的含参构造方法将依赖通过参数注入
2.利用工厂方法创建类实例的时候通过工厂方法的参数将依赖注入实例
3.创建实例之后通过属性的set方法将依赖注入实例
</code></pre></li>
</ul>
<p>综上，我们可以看到，首先对象的创建从对象转移到了容器中，其次依赖的初始化也从对象中转移到了容器，这就是控制反转。</p>
<p>在spring中<code>org.springframework.beans</code>和<code>org.springframework.context</code>这两个包组成了spring框架的ioc容器。<code>BeanFactory</code>接口提供了一套对象配置机制来管理任何类型的对象。<code>ApplicationContext</code>接口继承了<code>BeanFactory</code>，除了<code>BeanFactory</code>的基本功能之外，它还增加了企业所需要的功能。</p>
<p>在spring中被ioc容器管理的对象就叫beans。一个bean就是一个被spring容器创建，装配和管理的类实例。</p>
<h2 id="容器概述"><a href="#容器概述" class="headerlink" title="容器概述"></a>容器概述</h2><p><code>org.springframework.context.ApplicationContext</code>接口用来代表spring中的ioc容器,用来装配beans。容器根据configuration metadata来决定装配哪些beans。configuration metadata可以用xml、java注解、java代码三种方式来描述。</p>
<p>常用的<code>ApplicationContext</code>接口实现类有:</p>
<ul>
<li><strong>FileSystemXmlApplicationContext</strong>:该容器从 XML 文件中加载已被定义的 bean。在这里，你需要提供给构造器 XML 文件的完整路径</li>
<li><strong>ClassPathXmlApplicationContext</strong>：该容器从 XML 文件中加载已被定义的 bean。在这里，你不需要提供 XML 文件的完整路径，只需正确配置 CLASSPATH 环境变量即可，因为，容器会从 CLASSPATH 中搜索 bean 配置文件。</li>
<li><strong>WebXmlApplicationContext</strong>：该容器会在一个 web 应用程序的范围内加载在 XML 文件中已被定义的 bean。</li>
</ul>
<div align="left"><br>    <img src="/images/spring学习一-spring容器/container-magic.png" alt="container-magic"><br></div>

<p><strong><em>Figure 1. The Spring IoC container</em></strong></p>
<h3 id="Configuration-metadata"><a href="#Configuration-metadata" class="headerlink" title="Configuration metadata"></a>Configuration metadata</h3><p>配置Configuration metadata的三种方式：</p>
<ul>
<li><p>xml:传统的配置方式，将<bean>元素配置在顶层的<beans>元素之中</beans></bean></p>
</li>
<li><p>Annotation-based configuration:spring 2.5引入</p>
</li>
<li><p>Java-based configuration:spring 3.0开始引入，关于使用java code配置的相关特性后面我们学习@Configuration, @Bean, @Import 和 @DependsOn等注解的时候再深入</p>
</li>
</ul>
<h3 id="初始化容器"><a href="#初始化容器" class="headerlink" title="初始化容器"></a>初始化容器</h3><p>直接上例子</p>
<p>初始化容器,例子使用的是<code>ClassPathXmlApplicationContext</code>实现类，直接传入xml配置文件的路径，这里的路径是相对于<code>CLASSPATH</code>的路径(如果是WebXmlApplicationContext的话，还需要在web.xml中配置一些初始化容器的参数，这个后面再说，这里先mark一下)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"services.xml"</span>, <span class="string">"daos.xml"</span>);</span><br></pre></td></tr></table></figure>
<p><code>(services.xml)</code> configuration file:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- services --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"petStore"</span> <span class="attr">class</span>=<span class="string">"org.springframework.samples.jpetstore.services.PetStoreServiceImpl"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"accountDao"</span> <span class="attr">ref</span>=<span class="string">"accountDao"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"itemDao"</span> <span class="attr">ref</span>=<span class="string">"itemDao"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- more bean definitions for services go here --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>daos.xml</code> file:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountDao"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.samples.jpetstore.dao.jpa.JpaAccountDao"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"itemDao"</span> <span class="attr">class</span>=<span class="string">"org.springframework.samples.jpetstore.dao.jpa.JpaItemDao"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- more bean definitions for data access objects go here --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Composing-XML-based-configuration-metadata"><a href="#Composing-XML-based-configuration-metadata" class="headerlink" title="Composing XML-based configuration metadata"></a>Composing XML-based configuration metadata</h4><p>我们的项目中通常会有多个xml配置文件用来表示不同模块的beans。这种做法是非常有用的。那么我们如何加载这多个xml呢。第一种方式就是上面例子中的方法，直接给容器的构造方法传多个参数，还有一种方法就是用<code>&lt;import/&gt;</code>元素在xml文件中加载其他xml文件,例如：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"services.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"resources/messageSource.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"/resources/themeSource.xml"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bean1"</span> <span class="attr">class</span>=<span class="string">"..."</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bean2"</span> <span class="attr">class</span>=<span class="string">"..."</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里用的路径都是相对于<code>CLASSPATH</code>的路径，第一个<code>/</code>有没有都一样，推荐省略。当然你也可以使用绝对路径，不过这样做也不推荐，因为在不同的操作系统上会出问题。同样也不推荐在相对路径使用<code>../</code>。</p>
</blockquote>
<h3 id="使用容器"><a href="#使用容器" class="headerlink" title="使用容器"></a>使用容器</h3><p><code>T getBean(String name, Class&lt;T&gt; requiredType)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create and configure beans</span></span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"services.xml"</span>, <span class="string">"daos.xml"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// retrieve configured instance</span></span><br><span class="line">PetStoreService service = context.getBean(<span class="string">"petStore"</span>, PetStoreService.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// use configured instance</span></span><br><span class="line">List&lt;String&gt; userList = service.getUsernameList();</span><br></pre></td></tr></table></figure>
<h2 id="Bean-概述"><a href="#Bean-概述" class="headerlink" title="Bean 概述"></a>Bean 概述</h2><p>定义一个bean需要的metadata：</p>
<ul>
<li>完整类路径名</li>
<li>bean的作用域、生命周期回调等</li>
<li>bean的依赖关系</li>
</ul>
<p><strong><em>Table 1. The bean definition</em></strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>class</td>
<td>这个属性是强制性的，并且指定用来创建 bean 的 bean 类。</td>
</tr>
<tr>
<td>name</td>
<td>这个属性指定唯一的 bean 标识符。在基于 XML 的配置元数据中，你可以使用 ID 和/或 name 属性来指定 bean 标识符。</td>
</tr>
<tr>
<td>scope</td>
<td>这个属性指定由特定的 bean 定义创建的对象的作用域，它将会在 bean 作用域的章节中进行讨论。</td>
</tr>
<tr>
<td>constructor-arg</td>
<td>它是用来注入依赖关系的，并会在接下来的章节中进行讨论。</td>
</tr>
<tr>
<td>properties</td>
<td>它是用来注入依赖关系的，并会在接下来的章节中进行讨论。</td>
</tr>
<tr>
<td>autowiring mode</td>
<td>它是用来注入依赖关系的，并会在接下来的章节中进行讨论。</td>
</tr>
<tr>
<td>lazy-initialization mode</td>
<td>延迟初始化的 bean 告诉 IoC 容器在它第一次被请求时，而不是在启动时去创建一个 bean 实例。</td>
</tr>
<tr>
<td>initialization 方法</td>
<td>在 bean 的所有必需的属性被容器设置之后，调用回调方法。它将会在 bean 的生命周期章节中进行讨论。</td>
</tr>
<tr>
<td>destruction 方法</td>
<td>当包含该 bean 的容器被销毁时，使用回调方法。它将会在 bean 的生命周期章节中进行讨论。</td>
</tr>
</tbody>
</table>
<p>可以在应用程序运行期间向容器注册用户创建的对象，但尽量不要这么做</p>
<h3 id="命名beans"><a href="#命名beans" class="headerlink" title="命名beans"></a>命名beans</h3><ul>
<li><p>用id属性定义唯一标识符：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"id"</span> <span class="attr">class</span>=<span class="string">"className"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>用name属性定义一个或多个标识符,多个标识符之间可以用<code>,</code> <code>;</code>或者<code>空格</code>分割</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"name1,name2,name3"</span> <span class="attr">class</span>=<span class="string">"className"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>定义别名,如下所示三个标识符其实表示同一个bean</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">"subsystemA-dataSource"</span> <span class="attr">alias</span>=<span class="string">"subsystemB-dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">"subsystemA-dataSource"</span> <span class="attr">alias</span>=<span class="string">"myApp-dataSource"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="初始化beans"><a href="#初始化beans" class="headerlink" title="初始化beans"></a>初始化beans</h3><ul>
<li>使用构造方法初始化bean</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"exampleBean"</span> <span class="attr">class</span>=<span class="string">"examples.ExampleBean"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"anotherExample"</span> <span class="attr">class</span>=<span class="string">"examples.ExampleBeanTwo"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>class</code>属性定义了类的全路径名，spring通过反射获得它的构造器来创建对象。这里用的是默认的无参构造器，后面在讲依赖的时候会提到如何用有参的构造器</p>
<ul>
<li>使用静态工厂方法初始化bean</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"clientService"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"examples.ClientService"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">factory-method</span>=<span class="string">"createInstance"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ClientService clientService = <span class="keyword">new</span> ClientService();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ClientService</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ClientService <span class="title">createInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> clientService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>class</code>属性定义了包含静态工厂方法的类的全路径名，<code>factory-method</code>定义了静态工厂方法的方法名。可以看到我们在xml中并没有定义静态工厂方法返回的类型。</p>
<ul>
<li>使用实例工厂方法初始化bean</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- the factory bean, which contains a method called createInstance() --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"serviceLocator"</span> <span class="attr">class</span>=<span class="string">"examples.DefaultServiceLocator"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- inject any dependencies required by this locator bean --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- the bean to be created via the factory bean --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"clientService"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">factory-bean</span>=<span class="string">"serviceLocator"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">factory-method</span>=<span class="string">"createClientServiceInstance"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DefaultServiceLocator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ClientService clientService = <span class="keyword">new</span> ClientServiceImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClientService <span class="title">createClientServiceInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> clientService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>class</code>属性不用定义；<code>factory-bean</code>定义工厂类对象的名字，它指向容器中定义的工厂类bean；<code>factory-method</code>定义了实例工厂方法名</p>
<h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><h3 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h3><ul>
<li>基于构造方法的依赖注入</li>
</ul>
<p>当多个参数的类型之间不存在歧义的时候我们可以用下面的方式通过构造方法注入。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"foo"</span> <span class="attr">class</span>=<span class="string">"x.y.Foo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">"bar"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">"baz"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bar"</span> <span class="attr">class</span>=<span class="string">"x.y.Bar"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"baz"</span> <span class="attr">class</span>=<span class="string">"x.y.Baz"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>ps:这儿xml中构造方法参数的顺序有没有要求不太清楚，以后遇到了可以测试以下。</strong></p>
<p>当多个参数的类型之间存在歧义的时候怎么办呢？先看下面的例子。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> examples;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Number of years to calculate the Ultimate Answer</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> years;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The Answer to Life, the Universe, and Everything</span></span><br><span class="line">    <span class="keyword">private</span> String ultimateAnswer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExampleBean</span><span class="params">(<span class="keyword">int</span> years, String ultimateAnswer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.years = years;</span><br><span class="line">        <span class="keyword">this</span>.ultimateAnswer = ultimateAnswer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看到years和ultimateAnswer分别是int和String类型，像这种简单类型的值我们都可以传入字面量,例如<code>&lt;value&gt;true&lt;/value&gt;</code>，这时候spring就不知道传入值的确切类型。碰到这种情况我们有以下几种方法。</p>
<p>1.明确参数类型<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"exampleBean"</span> <span class="attr">class</span>=<span class="string">"examples.ExampleBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">"int"</span> <span class="attr">value</span>=<span class="string">"7500000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">"java.lang.String"</span> <span class="attr">value</span>=<span class="string">"42"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>2.明确参数顺序<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"exampleBean"</span> <span class="attr">class</span>=<span class="string">"examples.ExampleBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">value</span>=<span class="string">"7500000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">value</span>=<span class="string">"42"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>3.明确参数名<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"exampleBean"</span> <span class="attr">class</span>=<span class="string">"examples.ExampleBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"years"</span> <span class="attr">value</span>=<span class="string">"7500000"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"ultimateAnswer"</span> <span class="attr">value</span>=<span class="string">"42"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这里要注意的是java有debug和release两种编译方式，这两种编译方式会导致编译出来的参数名不一样，用debug编译方式的话上述配置没有问题，但是release编译方式的话就会导致spring反射失败从而无法注入。这时候我们就要用JDK的<code>@ConstructorProperties</code>注解显示得指明参数的名字(java的编译方式我们就不去深究了，如果想用这种方式注入，记得用<code>@ConstructorProperties</code>注解就行了)。</p>
<pre><code class="java"><span class="keyword">package</span> examples;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>{

    <span class="comment">// Fields omitted</span>

    <span class="meta">@ConstructorProperties</span>({<span class="string">"years"</span>, <span class="string">"ultimateAnswer"</span>})
    <span class="function"><span class="keyword">public</span> <span class="title">ExampleBean</span><span class="params">(<span class="keyword">int</span> years, String ultimateAnswer)</span> </span>{
        <span class="keyword">this</span>.years = years;
        <span class="keyword">this</span>.ultimateAnswer = ultimateAnswer;
    }
}
</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/04/vscode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/04/vscode/" itemprop="url">vscode.md</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-04T12:09:59+08:00">
                2018-03-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vscode/" itemprop="url" rel="index">
                    <span itemprop="name">vscode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>目前我主要用vscode写xml和markdown文件</p>
<h1 id="插件选用"><a href="#插件选用" class="headerlink" title="插件选用"></a>插件选用</h1><h2 id="xml插件"><a href="#xml插件" class="headerlink" title="xml插件"></a>xml插件</h2><ul>
<li>Auto Close Tag:</li>
<li>Auto Rename Tag:</li>
</ul>
<h2 id="markdown插件"><a href="#markdown插件" class="headerlink" title="markdown插件"></a>markdown插件</h2><ul>
<li>Markdown Preview Enhanced:可以到它的 <a href="https://shd101wyy.github.io/markdown-preview-enhanced/#/zh-cn/" target="_blank" rel="noopener">中文网站</a> 上查看编写markdown的基本要素</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/01/搭建我的博客/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/01/搭建我的博客/" itemprop="url">搭建我的第一个博客</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-01T17:23:56+08:00">
                2018-03-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/搭建博客/" itemprop="url" rel="index">
                    <span itemprop="name">搭建博客</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这里选择的是hexo来搭建我的博客，然后部署到github上，本文会讲如何安装hexo，如何建站，以及如何部署，那么下面就开始吧</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h3><ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="https://git-scm.com/" target="_blank" rel="noopener">git</a><br>这两个安装就不多说了，具体步骤根据操作系统按照官网的描述操作</li>
</ul>
<h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h2><p>创建你自己的站点文件夹，并在文件夹下执行下面命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>执行完上述命令之后，在指定的文件夹下会生成如下的目录结构</p>
<blockquote>
<p>.<br>├── _config.yml<br>├── package.json<br>├── scaffolds<br>├── source<br>|   ├── _drafts<br>|   └── _posts<br>└── themes</p>
</blockquote>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>_config.yml,可以在这个文件中配置大部分的参数</p>
<h4 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>网站标题</td>
</tr>
<tr>
<td>subtitle</td>
<td>网站副标题</td>
</tr>
<tr>
<td>description</td>
<td>网站描述</td>
</tr>
<tr>
<td>author</td>
<td>您的名字</td>
</tr>
<tr>
<td>language</td>
<td>网站使用的语言</td>
</tr>
<tr>
<td>timezone</td>
<td>网站时区。Hexo 默认使用您电脑的时区。时区列表。比如说：America/New_York, Japan, 和 UTC 。</td>
</tr>
</tbody>
</table>
<p>其中，<code>description</code>主要用于SEO，告诉搜索引擎一个关于您站点的简单描述，通常建议在其中包含您网站的关键词。<code>author</code>参数用于主题显示文章的作者。</p>
<h4 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>网址</td>
</tr>
<tr>
<td>root</td>
<td>网站根目录</td>
</tr>
<tr>
<td>permalink</td>
<td>文章的<a href="https://hexo.io/zh-cn/docs/permalinks.html" target="_blank" rel="noopener">永久链接</a>格式</td>
<td>:year/:month/:day/:title/</td>
</tr>
<tr>
<td>permalink_defaults</td>
<td>永久链接中各部分的默认值</td>
</tr>
</tbody>
</table>
<blockquote>
<h4 id="网站存放在子目录"><a href="#网站存放在子目录" class="headerlink" title="网站存放在子目录"></a>网站存放在子目录</h4><p>如果您的网站存放在子目录中，例如 <a href="http://yoursite.com/blog，则请将您的">http://yoursite.com/blog，则请将您的</a> url 设为 <a href="http://yoursite.com/blog">http://yoursite.com/blog</a> 并把 root 设为 /blog/。</p>
</blockquote>
<h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>source_dir</td>
<td>资源文件夹，这个文件夹用来存放内容。</td>
<td>source</td>
</tr>
<tr>
<td>public_dir</td>
<td>公共文件夹，这个文件夹用于存放生成的站点文件。</td>
<td>public</td>
</tr>
<tr>
<td>archive_dir</td>
<td>归档文件夹</td>
<td>archives</td>
</tr>
<tr>
<td>category_dir</td>
<td>分类文件夹</td>
<td>categories</td>
</tr>
<tr>
<td>code_dir</td>
<td>Include code 文件夹</td>
<td>downloads/code</td>
</tr>
<tr>
<td>i18n_dir</td>
<td>国际化（i18n）文件夹</td>
<td>:lang</td>
</tr>
<tr>
<td>skip_render</td>
<td>跳过指定文件的渲染，您可使用 <a href="https://github.com/isaacs/node-glob" target="_blank" rel="noopener">glob 表达式</a>来匹配路径。</td>
</tr>
</tbody>
</table>
<h4 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>new_post_name</td>
<td>新文章的文件名称</td>
<td>:title.md</td>
</tr>
<tr>
<td>default_layout</td>
<td>预设布局</td>
<td>post</td>
</tr>
<tr>
<td>auto_spacing</td>
<td>在中文和英文之间加入空格</td>
<td>false</td>
</tr>
<tr>
<td>titlecase</td>
<td>把标题转换为 title case</td>
<td>false</td>
</tr>
<tr>
<td>external_link</td>
<td>在新标签中打开链接</td>
<td>true</td>
</tr>
<tr>
<td>filename_case</td>
<td>把文件名称转换为 (1) 小写或 (2) 大写</td>
<td>0</td>
</tr>
<tr>
<td>render_drafts</td>
<td>显示草稿</td>
<td>false</td>
</tr>
<tr>
<td>post_asset_folder</td>
<td>启动 <a href="https://hexo.io/zh-cn/docs/asset-folders.html" target="_blank" rel="noopener">Asset 文件夹</a></td>
<td>false</td>
</tr>
<tr>
<td>relative_link</td>
<td>把链接改为与根目录的相对位址</td>
<td>false</td>
</tr>
<tr>
<td>future</td>
<td>显示未来的文章</td>
<td>true</td>
</tr>
<tr>
<td>highlight</td>
<td>代码块的设置</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<h4 id="相对地址"><a href="#相对地址" class="headerlink" title="相对地址"></a>相对地址</h4><p>默认情况下，Hexo生成的超链接都是绝对地址。例如，如果您的网站域名为<code>example.com</code>,您有一篇文章名为hello，那么绝对链接可能像这样：<code>http://example.com/hello.html</code>，它是绝对于域名的。相对链接像这样：<code>/hello.html</code>，也就是说，无论用什么域名访问该站点，都没有关系，这在进行反向代理时可能用到。通常情况下，建议使用绝对地址。</p>
</blockquote>
<h4 id="分类-amp-标签"><a href="#分类-amp-标签" class="headerlink" title="分类 &amp; 标签"></a>分类 &amp; 标签</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>default_category</td>
<td>默认分类</td>
<td>uncategorized</td>
</tr>
<tr>
<td>category_map</td>
<td>分类别名     </td>
</tr>
<tr>
<td>tag_map</td>
<td>标签别名</td>
</tr>
</tbody>
</table>
<h4 id="日期-时间格式"><a href="#日期-时间格式" class="headerlink" title="日期 / 时间格式"></a>日期 / 时间格式</h4><p>Hexo 使用 <a href="http://momentjs.com/" target="_blank" rel="noopener">Moment.js</a> 来解析和显示时间。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>date_format</td>
<td>日期格式</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>time_format</td>
<td>时间格式</td>
<td>H:mm:ss</td>
</tr>
</tbody>
</table>
<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>per_page</td>
<td>每页显示的文章量 (0 = 关闭分页功能)</td>
<td>10</td>
</tr>
<tr>
<td>pagination_dir</td>
<td>分页目录</td>
<td>page</td>
</tr>
</tbody>
</table>
<h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>theme</td>
<td>当前主题名称。值为false时禁用主题</td>
</tr>
<tr>
<td>deploy</td>
<td>部署部分的设置</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h2><p>安装 <a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="noopener">hexo-deployer-git</a>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>修改配置。</p>
<pre><code>deploy:
    type: git
    repo: &lt;repository url&gt;
    branch: [branch]
    message: [message]
</code></pre><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>repo</td>
<td>库（Repository）地址</td>
</tr>
<tr>
<td>branch</td>
<td>分支名称。如果您使用的是 GitHub 或 GitCafe 的话，程序会尝试自动检测。</td>
</tr>
<tr>
<td>message</td>
<td>自定义提交信息</td>
</tr>
</tbody>
</table>
<p>一键部署</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/24/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yaojun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小六仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/24/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-24T11:51:08+08:00">
                2018-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="yaojun" />
            
              <p class="site-author-name" itemprop="name">yaojun</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yaojun</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
